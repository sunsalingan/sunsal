# v1.9 Release Notes (2026-01-13)

## 1. 랭킹 시스템 고도화 (Ranking System Enhanced)
**"점수는 주관적이지만, 랭킹은 절대적이다"** 원칙에 따라 신뢰도를 높이기 위한 로직이 적용되었습니다.

### 1.1 가중치 점수제 (Weighted Scoring) 도입
- **문제점**: 리뷰 1개를 작성한 유저의 10점과, 리뷰 1,000개를 작성한 "미식가" 유저의 10점이 동일하게 반영되는 문제.
- **해결책**: 유저의 활동량(Total Review Count)에 따라 점수 반영 비중(Weight)을 차등 적용.
- **공식**: `Weight = 1 + log10(Total Review Count)`
    -   리뷰 1개: 가중치 1.0 (기본)
    -   리뷰 10개: 가중치 2.0 (2배)
    -   리뷰 100개: 가중치 3.0 (3배)
    -   리뷰 1,000개: 가중치 4.0 (4배)

### 1.2 랭킹 정렬 개선 (Tie-breaker)
- **우선순위 1 (점수)**: 가중 평균 점수(Display Score)가 높은 순.
- **우선순위 2 (신뢰도)**: 점수가 같을 경우, **총 가중치(Total Weight) 합산**이 높은 식당 우선 노출.
    -   즉, **"더 검증된 유저들"**이 추천했거나 **"더 많은 리뷰"**가 쌓인 식당이 상위에 랭크됩니다.

### 1.3 모순 방지 로직 (Bounded Ranking)
- 식당 추가 시, 먼저 결정한 "카테고리 랭킹" 위치를 기반으로 "전체 랭킹" 선택 시 **선택 가능한 범위를 제한**.
- 예: 한식 순위에서 A식당보다 낮게 설정했다면, 전체 순위에서도 A식당보다 높게 설정할 수 없도록 강제.

---

## 2. 신규 기능 (New Features)

### 2.1 닉네임 변경 (Profile Edit)
- **기능**: 프로필 페이지에서 닉네임 수정 가능.
- **동기화**: 닉네임 변경 시, 과거에 작성했던 **모든 리뷰의 작성자 이름도 일괄 업데이트(Batch Update)**.

### 2.2 아시안 카테고리 (Asian Food Category)
- **추가**: 카테고리 필터에 '아시안' 추가.
- **키워드**: 태국, 베트남, 인도, 쌀국수, 팟타이, 커리, 난, 똠양꿍, 반미, 나시고랭 등.
- **자동 분류**: 식당 이름이나 카테고리에 해당 키워드가 포함되면 자동으로 '아시안'으로 분류.

### 2.3 데이터 관리 (Admin Features)
- **경로**: `/admin`
- **기능**:
    - **Backup**: 전체 데이터 JSON 추출.
    - **Restore**: JSON 파일로 데이터 복구.
    - **Clear All**: 데이터 전체 초기화 (PIN 보호).

---

## 3. UI/UX 및 기타 수정
- **리뷰 모달**: 디버그용 텍스트(`DEBUG: Step=...`) 제거 및 디자인 정리.
- **검색창**: 플레이스홀더 문구 변경 ("식당 이름을 검색해주세요" 강조).
- **글자수 제한**: 한줄평 30자 제한 및 카운터 UI 개선.
- **버그 수정**: 마커 클릭 시 간헐적 화이트 스크린(Crash) 현상 디버깅 완료.
