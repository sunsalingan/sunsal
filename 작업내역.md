# 현재까지 작업 내역 및 주요 이슈 (Work History & Issues)

> [!NOTE]
> **Date**: 2026-02-06
> **Current Version**: v2.3 Friend Recommendation System (Beta)
> **Last Update**: 인앱 브라우저 대응 및 친구 추천 시스템 구현

## 1. 최근 주요 변경 사항 (Recent Changes)

### A. 친구 추천 시스템 (Friend Recommendation) - Beta
- **기능**: 사용자의 위시리스트 및 리뷰 겹침 분석을 통한 "취향이 비슷한 사용자" 추천.
- **구현 파일**:
  - `src/utils/recommendation.js`: 유사도 계산 알고리즘.
  - `src/components/features/FriendRecommendation.jsx`: 추천 사용자 카드 UI.
- **상태**: 구현 완료되었으나, 배포 환경에서의 실제 데이터 기반 검증이 필요함.

### B. 인앱 브라우저 대응 (In-App Browser Support)
- **이슈**: 카카오톡/라인 등 인앱 브라우저에서 구글 로그인(팝업) 차단 및 보안 이슈 발생.
- **해결**:
  - `src/utils/inAppHandler.js`: 외부 브라우저(Chrome/Safari)로 강제 전환 또는 안내 모달 표시.
  - `src/components/auth/InAppBrowserGuard.jsx`: 모든 페이지 진입 시 브라우저 환경 체크.

### C. 보안 및 데이터베이스 (Security & DB)
- **Firestore Rules**: `firestore.rules` 업데이트로 읽기/쓰기 권한 강화 (테스트 모드 종료).
- **데이터 정리**: 더미 유저 및 연관 데이터 삭제 로직 적용 (`functions/RecursiveDelete`).

---

## 2. 주요 이슈 및 다음 작업 (Issues & Next Steps)

### [검증 필요] 친구 추천 로직
- **현상**: 로컬 더미 데이터로는 작동 확인했으나, 실제 사용자 데이터(팔로우/리뷰)가 쌓였을 때 추천 속도 및 정확도 검증 필요.
- **Action**: 배포 후 팀원들끼리 서로 팔로우/리뷰 남겨보며 추천 목록 뜨는지 확인.

### [보안] API Key 관리
- **현상**: API Key가 코드에 일부 노출된 이력 있음.
- **Action**: `.env.local`로 완벽히 분리되었는지 재확인하고, 필요 시 Key Rotation 수행.

### [UI/UX] 폴리싱
- 추천 카드 디자인이 모바일에서 깨져 보일 수 있음. 반응형 스타일 점검 필요.
- 다크 모드 시 일부 텍스트 가독성 저하 문제 해결 필요.

---

## 3. 시작 가이드 (Getting Started)

이어서 작업할 때 다음 순서로 확인하세요:
1. `목표 정리.md` 최상단의 **[긴급 검토 및 조치 사항]** 읽기.
2. `TODO.md`에서 현재 진행 중인 작업 확인.
3. `npm run dev`로 로컬 서버 실행 후 기능 테스트.
